<form name="deviceForm" ng-submit="setDevice()" novalidate>
<div class="modal-header">
  <button type="button" class="close"  ng-click="$dismiss()">&times;</button>
  <h4 class="modal-title">{{poi.base_info.business_name}}:配置设备</h4>
</div>
<div class="modal-body">
    <div class="form-group" ng-class="{ 'has-error' : deviceForm['company'].$invalid && submitted}">
      <ui-select
        name="company"
        ng-model="device.company"
        append-to-body="false"
        required>
        <ui-select-match placeholder="选择设备厂家">
            <span ng-bind="$select.selected.name"></span>
        </ui-select-match>
        <ui-select-choices
          repeat="company in (appConfig.device.companies | filter: $select.search) track by $index"
          group-by="'group'">
            <span ng-bind="company.name"></span>
        </ui-select-choices>
      </ui-select>
    </div>
    <div class="form-group"
      ng-class="{ 'has-error' : deviceForm['name'].$invalid && submitted}">
      <input class="form-control" name="name"
        placeholder="{{deviceForm['name'].$error.required && submitted?'设备名称必须输入':'请输入设备名称'}}"
        ng-model="device.name" required>
    </div>
    <div class="form-group" ng-class="{ 'has-error' : deviceForm['code'].$invalid && submitted}">
      <input class="form-control" name="code"
        placeholder="{{deviceForm['code'].$error.required && submitted?'设备代码必须输入':'请输入设备代码'}}"
        ng-model="device.code" required>
    </div>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" type="submit" ng-bind="device.id?'编辑':'添加'"></button>
  <button class="btn btn-metis-5" type="button" ng-click="delDevice()" ng-if="device.id">删除</button>
</div>
</form>
